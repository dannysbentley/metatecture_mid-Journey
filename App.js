var subject = {
  "Floating House": [
    {name: "Option-1", value: "url(https://cdn.midjourney.com/6e713fb1-2301-4a52-830c-11937abcadd8/0_1.png)" }, 
    {name: "Option-2", value: "url(https://cdn.midjourney.com/cfe4eeea-e8db-492a-a595-416d73fb5597/0_0.png)" }, 
    {name: "Option-3", value: "url(https://cdn.midjourney.com/c56391e1-70d1-42fd-b7e0-bba39589fc42/0_2.png)" }, 
    {name: "Option-4", value: "url(https://cdn.midjourney.com/65e64ba4-49ca-439c-b036-153b519e561a/0_3.png)" }, 
    {name: "Option-5", value: "url(https://cdn.midjourney.com/7553b37d-0847-441c-bcd4-231be3fcd102/0_2.png)" }, 
    {name: "Option-6", value: "url(https://cdn.midjourney.com/f17f4ad5-8ff5-4d52-92ad-be261b9f5174/0_1.png)" }, 
    {name: "Option-7", value: "url(https://cdn.midjourney.com/4b8b3582-ff52-44e6-85c0-7aafff288258/0_2.png)" }, 
    {name: "Option-8", value: "url(https://cdn.midjourney.com/935a8487-05fd-497d-b420-a8fd0286a1e1/0_1.png)" }, 
    {name: "Option-9", value: "url(https://cdn.midjourney.com/755adba7-90ec-4499-a701-40cd901e33e4/0_0.png)" }, 
    {name: "Option-10", value: "url(https://cdn.midjourney.com/06f23f22-a92d-407f-bec9-1553625708a9/0_2.png)" }, 
    {name: "Option-11", value: "url(https://cdn.midjourney.com/00b0c550-5277-4326-9564-b62fb783f1db/0_0.png)" }, 
    {name: "Option-12", value: "url(https://cdn.midjourney.com/d28b8309-fa10-433c-aa3a-5aafe81e3fc5/0_0.png)" }
  ],
  "Beach House": [
    {name: "Option-1", value: "url(https://cdn.midjourney.com/d48c06e4-7bad-46b1-89ee-42c9a1666d8d/0_0.png?prog=true)" }, 
    {name: "Option-2", value: "url(https://cdn.midjourney.com/21803602-16e7-48f7-bbb3-7552b2015c2f/0_0.png?prog=true)" }, 
    {name: "Option-3", value: "url(https://cdn.midjourney.com/a2ded89b-140f-4ac2-8f7e-fc6dabd5842c/0_0.png?prog=true)" }, 
    {name: "Option-4", value: "url(https://cdn.midjourney.com/0c787300-43e6-4709-a995-1ddc4b55b422/0_3.png?prog=true)" }, 
    {name: "Option-5", value: "url(https://cdn.midjourney.com/f7f45eb0-3728-4452-875e-f8ce9e4c7091/0_1.png?prog=true)" }, 
    {name: "Option-6", value: "url(https://cdn.midjourney.com/c15d7f72-8321-469d-bd20-64be2f8550e6/0_2.png?prog=true)" }, 
    {name: "Option-7", value: "url(https://cdn.midjourney.com/71dce1d8-a230-45f0-a9c1-b36c704acfcf/0_0.png?prog=true)" }, 
    {name: "Option-8", value: "url(https://cdn.midjourney.com/f569442f-2f12-4ade-b950-d7d8531c726d/0_0.png?prog=true)" }, 
    {name: "Option-9", value: "url(https://cdn.midjourney.com/2f227339-bb04-4b28-b0df-553c7b616a92/0_3.png?prog=true)" }, 
    {name: "Option-10", value: "url(https://cdn.midjourney.com/8b956362-143e-4ec6-a327-08d523d272d8/0_0.png?prog=true)" }, 
    {name: "Option-11", value: "url(https://cdn.midjourney.com/9ad03f0d-d9a2-4a6d-b5d8-52a03d9c193e/0_1.png?prog=true)" }, 
    {name: "Option-12", value: "url(https://cdn.midjourney.com/01bcfe3a-9ebd-4703-b696-991150a94c69/0_3.png?prog=true)" }
  ],
  "Spa Retreat": [
    {name: "Option-1", value: "url(https://cdn.midjourney.com/b0e849e6-46a5-4b31-9790-d45fcb13c418/0_0.png?prog=true)" }, 
    {name: "Option-2", value: "url(https://cdn.midjourney.com/886b44e5-8f55-48b5-9abc-7c1dad2b8163/0_0.png?prog=true)" }, 
    {name: "Option-3", value: "url(https://cdn.midjourney.com/4b9ddcaa-41d6-40ec-8561-f753db919f8c/0_1.png?prog=true)" }, 
    {name: "Option-4", value: "url(https://cdn.midjourney.com/cc62126e-ce50-4083-ae46-d422adae7a0b/0_0.png?prog=true)" }, 
    {name: "Option-5", value: "url(https://cdn.midjourney.com/3641cef2-f887-4808-b1a8-d573711a3076/0_1.png?prog=true)" }, 
    {name: "Option-6", value: "url(https://cdn.midjourney.com/89df8263-102c-42a7-b1a4-e84f8f50ae73/0_1.png?prog=true)" }, 
    {name: "Option-7", value: "url(https://cdn.midjourney.com/500d6fcf-192b-459f-ab91-1fd32e5ff180/0_1.png?prog=true)" }, 
    {name: "Option-8", value: "url(https://cdn.midjourney.com/f90fb76c-1d23-4d1c-8a4c-032b525a8263/0_2.png?prog=true)" }, 
    {name: "Option-9", value: "url(https://cdn.midjourney.com/0cde0458-e967-40db-a077-aa5df86984a3/0_1.png?prog=true)" }, 
    {name: "Option-10", value: "url(https://cdn.midjourney.com/94f47e76-a332-4045-a1c1-6a1761fbe669/0_2.png?prog=true)" }, 
    {name: "Option-11", value: "url(https://cdn.midjourney.com/38bcea73-1f87-4657-aa17-2e4a7485ac0b/0_0.png?prog=true)" }, 
    {name: "Option-12", value: "url(https://cdn.midjourney.com/f1aac52c-b415-4df2-a72c-883fef43eb74/0_0.png?prog=true)" }
],
  "Ultra Locality": [
    {name: "Option-1", value: "url(https://cdn.midjourney.com/2bf0eb4b-bdb4-468a-8505-ef9206a74907/0_0.png?prog=true)" }, 
    {name: "Option-2", value: "url(https://cdn.midjourney.com/2ef99cef-2189-4b62-bdfb-995e80973437/0_1.png?prog=true)" }, 
    {name: "Option-3", value: "url(https://cdn.midjourney.com/b653e6b7-d6ab-4206-8c4f-733759d79238/0_3.png?prog=true)" }, 
    {name: "Option-4", value: "url(https://cdn.midjourney.com/6793e504-0482-45f9-b980-c36b1379bddc/0_3.png?prog=true)" }, 
    {name: "Option-5", value: "url(https://cdn.midjourney.com/ca32185b-4a5b-431a-a3c9-35e31db78959/0_3.png?prog=true)" }, 
    {name: "Option-6", value: "url(https://cdn.midjourney.com/a828eb32-6281-4fc6-80f6-2ab6ea2dac1a/0_2.png?prog=true)" }, 
    {name: "Option-7", value: "url(https://cdn.midjourney.com/e72838b5-3742-4f33-90be-66532d2a8483/0_0.png?prog=true)" }, 
    {name: "Option-8", value: "url(https://cdn.midjourney.com/b7054ffe-d05e-4698-b680-3c404d61e520/0_2.png?prog=true)" }, 
    {name: "Option-9", value: "url(https://cdn.midjourney.com/1a51ddc7-6fff-4891-9c2c-2481d3be0d47/0_1.png?prog=true)" }, 
    {name: "Option-10", value: "url(https://cdn.midjourney.com/59f95e8f-5179-4c9d-8200-c70ac1cd3069/0_3.png?prog=true)" }, 
    {name: "Option-11", value: "url(https://cdn.midjourney.com/8975ebb8-c243-49bf-9036-ff05d57aab32/0_3.png?prog=true)" }, 
    {name: "Option-12", value: "url(https://cdn.midjourney.com/b0846739-e262-44f2-9aa8-ffc06f85fec6/0_0.png?prog=true)" }
  ]
}

window.onload = function(){
  //var first = document.getElementById('first')
  var second = document.getElementById('second')
  var checkboxesDiv = document.getElementById("checkboxes");
  var checkboxtitle = document.getElementById("checkbox-title");

  // First Option 
  /*
  for(var x in subjectObject){
      first.options[first.options.length] = new Option(x);
  }

  first.onchange = function(){
      second.length = 1;
      checkboxesDiv.length = 1;

      second.style.display = 'block';
      checkboxesDiv.style.display = 'none';
      checkboxtitle.style.display = 'none';
      for(var y in subjectObject[this.value]){
          second.options[second.options.length] = new Option(y)
      }
  }
  */

  for(var x in subject){
    second.options[second.options.length] = new Option(x);
  }

  // Third Images 
  second.onchange = function(){
    checkboxtitle.style.display = "block";
    checkboxtitle.textContent = "Select Images:";
    checkboxesDiv.innerHTML = "";
    checkboxesDiv.style.display = "flex";
    checkboxesDiv.style.flexWrap = "wrap";
    checkboxesDiv.style.alignContent = "center";
    //checkboxesDiv.value = "test";
    
    const options = subject[this.value];
    for(let i=0; i<options.length; i++){
      const option = options[i];
      const checkboxDiv = document.createElement("div");
      checkboxDiv.classList.add("checkbox");
  
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.name = option.name;
      let str = option.value;
      checkbox.value = str.replace(/^url\(['"]?/, '').replace(/['"]?\)$/, '');;
      checkbox.style.border = "0px"
      checkbox.style.display = "block";
      checkboxDiv.appendChild(checkbox);      
      checkboxesDiv.appendChild(checkboxDiv);
    }

    var count = 0;
    const checkboxesElements = document.querySelectorAll('input[type="checkbox"]');
    
    checkboxesElements.forEach(function(checkboxElement){
      var checkboxContainer = checkboxElement.parentElement;
      checkboxContainer.style.backgroundImage = options[count].value;
      count++;
    })
  }
}